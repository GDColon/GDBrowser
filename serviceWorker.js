const staticGDBrowser = "gdbrowserv1"
const assets = [
    "/",
    "/html/",
    "/api/",
    "/assets/",
    "/classes/",
    "/iconkit/",
    "/misc/",
    "/misc/achievements.json",
    "/misc/achievementTypes.json",
    "/misc/credits.json",
    "/misc/dragscroll.js",
    "/misc/global.js",
    "/misc/music.json",
    "/misc/sampleIcons.json",
    "/misc/secretStuff.json",
    "/misc/analysis/blocks.json",
    "/misc/analysis/colorProperties.json",
    "/misc/analysis/initialProperties.json",
    "/misc/analysis/objectProperties.json",
    "/misc/analysis/objects.json",
    "/misc/manual parsers/parseAchievementPlist.js",
    "/misc/manual parsers/parseIconPlist.js",
    "/misc/manual parsers/parseRobotPlist.js",
    "/index.js",
    "/settings.js",
    "/servers.json",
    "/iconkit/extradata/colorOrder.json",
    "/iconkit/extradata/hardcodedUnlocks.json",
    "/iconkit/extradata/iconCredits.json",
    "/iconkit/extradata/shops.json",
    "/iconkit/libs/ag-psd.js",
    "/iconkit/libs/imagesloaded.js",
    "/iconkit/libs/pixi-ease.js",
    "/iconkit/sacredtexts/colors.json",
    "/iconkit/sacredtexts/forms.json",
    "/iconkit/sacredtexts/gameSheet.json",
    "/iconkit/sacredtexts/robotAnimations.json",
    "/iconkit/icon.js",
    "/classes/Level.js",
    "/classes/Player.js",
    "/classes/XOR.js",
    "/api/leaderboards/accurate.js",
    "/api/leaderboards/boomlings.js",
    "/api/leaderboards/leaderboardLevel.js",
    "/api/leaderboards/scores.js",
    "/api/messages/countMessages.js",
    "/api/messages/deleteMessage.js",
    "/api/messages/fetchMessage.js",
    "/api/messages/getMessage.js",
    "/api/post/like.js",
    "/api/post/postComment.js",
    "/api/post/postProfileComment.js",
    "/api/analyze.js",
    "/api/comments.js",
    "/api/download.js",
    "/api/gauntlets.js",
    "/api/level.js",
    "/api/mappacks.js",
    "/api/profile.js",
    "/api/search.js",
    "/api/song.js",
    "/html/achievements.html",
    "/html/analyze.html",
    "/html/api_old.html",
    "/html/api.html",
    "/html/assets.html",
    "/html/boomlings.html",
    "/html/comingsoon.html",
    "/html/comments.html",
    "/html/demon.html",
    "/html/filters.html",
    "/html/gauntlets.html",
    "/html/gdps.html",
    "/html/home.html",
    "/html/iconkit.html",
    "/html/leaderboard.html",
    "/html/level.html",
    "/html/levelboard.html",
    "/html/mappacks.html",
    "/html/messages.html",
    "/html/offline.html",
    "/html/profile.html",
    "/html/search.html",
    "achievements.png",
    "arrow-left.png",
    "arrow-right.png",
    "back.png",
    "basement.png",
    "blankbutton.png",
    "bluebox.png",
    "bluecoin.png",
    "brownbox.png",
    "browncoin.png",
    "browser.png",
    "btn-awarded.png",
    "btn-back.png",
    "btn-cancel-green.png",
    "btn-cancel.png",
    "btn-check.png",
    "btn-delete.png",
    "btn-done.png",
    "btn-featured.png",
    "btn-followed.png",
    "btn-liked.png",
    "btn-magic.png",
    "btn-no.png",
    "btn-recent.png",
    "btn-submit.png",
    "btn-top.png",
    "btn-trending.png",
    "btn-yes.png",
    "category-daily.png",
    "category-featured.png",
    "category-gauntlets.png",
    "category-hof.png",
    "category-packs.png",
    "category-saved.png",
    "category-scores.png",
    "category-search.png",
    "category-weekly.png",
    "check-off.png",
    "check-on.png",
    "check.png",
    "close.png",
    "coin.png",
    "col1.png",
    "col2.png",
    "colG.png",
    "colU.png",
    "colW.png",
    "comment.png",
    "comments-grey.png",
    "comments-yellow.png",
    "comments.png",
    "compact-off.png",
    "compact-on.png",
    "copied.png",
    "copy.png",
    "copylock.png",
    "corner.png",
    "cp.png",
    "credits.png",
    "crown-daily.png",
    "crown-weekly.png",
    "delete.png",
    "demon.png",
    "demonButton.png",
    "demonleaderboard.png",
    "diamond.png",
    "discord.png",
    "dislike.png",
    "divider.png",
    "door.png",
    "double-arrow.png",
    "download.png",
    "edit.png",
    "empty.png",
    "emptybutton.png",
    "epic.png",
    "epicbox.png",
    "exclamation.png",
    "expanded-off.png",
    "expanded-on.png",
    "facebook.png",
    "fancybox.png",
    "featured.png",
    "folder.png",
    "follow-off.png",
    "follow-on.png",
    "friends-grey.png",
    "friends.png",
    "gauntlet.png",
    "gauntlets.png",
    "gd_circle.png",
    "gdlogo.png",
    "gdw_circle.png",
    "gdw_transparent.png",
    "github.png",
    "icon.png",
    "iconkit.png",
    "iconrope.png",
    "info.png",
    "instagram.png",
    "javi.png",
    "keymaster-head.png",
    "keymaster.png",
    "large.png",
    "leaderboard-top.png",
    "leaderboard-week.png",
    "leaderboard.png",
    "leaderboardarrow.png",
    "leaderboardbox.png",
    "levels.png",
    "like.png",
    "listbutton.png",
    "loading_old.png",
    "loading.png",
    "lock.png",
    "magnify.png",
    "menubutton.png",
    "messagerope.png",
    "messages-grey.png",
    "messages-yellow.png",
    "messages.png",
    "mod-elder.png",
    "mod-extra.png",
    "mod.png",
    "more.png",
    "ok.png",
    "orbs.png",
    "play.png",
    "playbutton.png",
    "playsong.png",
    "plus_blue.png",
    "plus.png",
    "privateservers.png",
    "random.png",
    "refresh.png",
    "reply.png",
    "robtop.png",
    "search-user.png",
    "search.png",
    "select-all.png",
    "select-none.png",
    "select.png",
    "share.png",
    "silvercoin.png",
    "site.png",
    "slider_thumb_active.png",
    "slider_thumb.png",
    "slider_track.png",
    "smallinfo.png",
    "smashDislike.png",
    "smashLike.png",
    "song-custom.png",
    "song-normal.png",
    "sort-coins-on.png",
    "sort-coins.png",
    "sort-cp-on.png",
    "sort-cp.png",
    "sort-demons-on.png",
    "sort-demons.png",
    "sort-diamonds-on.png",
    "sort-diamonds.png",
    "sort-likes-on.png",
    "sort-likes.png",
    "sort-mod-on.png",
    "sort-mod.png",
    "sort-stars-on.png",
    "sort-stars.png",
    "sort-time-on.png",
    "sort-time.png",
    "sort-week-on.png",
    "sort-week.png",
    "star.png",
    "stopbutton.png",
    "tab-accurate-off.png",
    "tab-accurate-on.png",
    "tab-creators-off.png",
    "tab-creators-on.png",
    "tab-top-off.png",
    "tab-top-on.png",
    "tab-weekly-off.png",
    "tab-weekly-on.png",
    "time.png",
    "trash-square.png",
    "trash.png",
    "trophy-demon.png",
    "trophy.png",
    "trophy2.png",
    "trophyButton.png",
    "twitch.png",
    "twitter.png",
    "twoPlayer.png",
    "ulButton.png",
    "unlock.png",
    "unmagnify.png",
    "view.png",
    "vote.png",
    "voted.png",
    "whitearrow-left.png",
    "whitearrow-right.png",
    "x.png",
    "xbutton.png",
    "youtube.png",
    "Pusab.ttf"
]

self.addEventListener("install", installEvent => {
  installEvent.waitUntil(
    caches.open(staticGDBrowser).then(cache => {
      cache.addAll(assets)
    })
  )
})

self.addEventListener("fetch", fetchEvent => {
    fetchEvent.respondWith(
      caches.match(fetchEvent.request).then(res => {
        return res || fetch(fetchEvent.request)
      })
    )
  })