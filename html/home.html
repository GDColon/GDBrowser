<head>
	<title>Geometry Dash Browser!</title>
	<meta charset="utf-8">
	<link href="../css/browser.css" type="text/css" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135255146-3"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-135255146-3');</script>
	<link rel="icon" href="../assets/coin.png">
	<meta id="meta-title" property="og:title" content="Geometry Dash Browser!">
	<meta id="meta-desc" property="og:description" content="Browse all of Geometry Dash's online features, right from this handy little website! Levels, profiles, leaderboards, comments, and more!">
	<meta id="meta-image" name="og:image" itemprop="image" content="https://gdbrowser.com/assets/coin.png">
</head>

<body class="levelBG" onbeforeunload="saveUrl()">

<div id="everything" class="flex vertical spaceAround">

	<div class="popup" id="credits">
	</div>

	<div style="position:absolute; bottom: 0%; left: 0%; width: 100%; pointer-events: none">
		<img class="cornerPiece" src="../assets/corner.png" width=7%;>
	</div>

	<div style="position:absolute; top: 0%; left: 0%; width: 100%; pointer-events: none">
		<img class="cornerPiece" src="../assets/corner.png" width=7%; style="transform: scaleY(-1)">
	</div>

	<div style="position:absolute; top: 1.7%; right: 2%; text-align: right; width: 10%;">
		<img id="creditsButton" class="gdButton" src="../assets/credits.png" width="60%" onclick="loadCredits()">
	</div>

	<div style="position:absolute; top: -10px; right: 10%; text-align: right; width: 10%;">
		<a href="../iconkit"><img class="iconRope" src="../assets/iconrope.png" width="40%"></a>
	</div>
	
	<div class="center" width="100%" style="margin-top: 2%">
		<img src="../assets/gdlogo.png" style="width: 80%; max-width: 1000px; height: auto"><br>
		<img id="browserlogo" src="../assets/browser.png" style="margin: 0.5% 0% 0% 30%; width: 60%; max-width: 750px;">
	</div>
	<div class="flex wrap spaceAround" id="menuButtons" style="width: 90%; max-width: 1200px">					
			<a href="./search/levels?type=saved"><img class="menubutton" src="../assets/category-saved.png"></a>
			<a href="./daily"><img class="menubutton" src="../assets/category-daily.png"></a>
			<a href="./weekly"><img class="menubutton" src="../assets/category-weekly.png"></a>
			<a href="./gauntlets"><img class="menubutton" src="../assets/category-gauntlets.png"></a>
			<a href="./leaderboard"><img class="menubutton" src="../assets/category-scores.png"></a>
			<a href="./search/levels?type=hof"><img class="menubutton" src="../assets/category-hof.png"></a>
			<a href="./mappacks"><img class="menubutton" src="../assets/category-packs.png"></a>
			<a href="./search"><img class="menubutton" src="../assets/category-search.png"></a>
	</div>
	<div class="flex vertical spaceBetween" style="text-align: center;">
			<p>Website created by GD Colon.<br>Pretty much everything other than that belongs to RobTopGames.</p>
			<p class="flex spaceAround" style="width: 100%">
					<a class="menuLink" href="https://gdcolon.com/tools">GD Tools</a>
					<a class="menuLink" href="./api">API</a>
					<a class="menuLink" href="https://github.com/GDColon/GDBrowser">GitHub</a>
					<a class="menuLink" href="https://store.steampowered.com/app/322170/Geometry_Dash/">Buy Geometry Dash!</a>
			</p>
	</div>


	
</div>

</body>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="assets/sizecheck.js"></script>
<script>

let page = 1
$('#browserlogo').css('filter', `hue-rotate(${Math.floor(Math.random() * (330 - 60)) + 60}deg) saturate(${Math.floor(Math.random() * (150 - 100)) + 100}%)`)

function loadCredits() {
	$('.subCredits').hide()
	$('#credits' + page).show()
	$('#credits').show()
}

fetch(`./api/credits`).then(res => res.json()).then(res => {

	res.credits.forEach((x, y) => {
		$('#credits').append(`<div id="credits${y+1}" class="subCredits brownBox center supercenter modal flex spaceAround" style="display: none;">
			<img class="gdButton arrow" src="../assets/arrow-left.png" style="${y == 0 ? "visibility: hidden;" : ""}" onclick="page -= 1; loadCredits()">
			<div class="flex vertical spaceAround" style="width: 80%; height: 100%;">
				<h1>${x.header}</h1>
				<h2 class="gdButton"><a href="./profile/${x.ign || x.name}">${x.name}</h2></a>
				<img src="./icon/${x.ign || x.name}" height=30%;>
				<div class="flex spaceAround" style="width: 70%">
					${x.socials.map(function(el) {return `<a target=_blank href="${el[0]}"><img src="../assets/${el[1]}.png" class="gdButton" style="width: 10vmin"></a>`}).join('')}
				</div>
			</div>
			<img class="gdButton arrow" src="../assets/arrow-right.png" onclick="page += 1; loadCredits()">
			<img class="closeWindowX gdButton" src="../assets/close.png" onclick="$('#credits').hide(); page = 1;">
		</div>`)
	})

	$('#credits').append(`<div id="credits${res.credits.length + 1}" class="subCredits brownBox center supercenter flex modal spaceAround" style="display: none;">
			<img class="gdButton arrow" src="../assets/arrow-left.png" onclick="page -= 1; loadCredits()">
			<div class="flex vertical spaceAround" style="height: 100%; width: 80%;">
				<h1>GitHub Contributors</h1>
				<div class="flex wrap spaceAround" style="width: 100%">
					${res.contributors.map(x => `<div class="githubChad flex vertical">
					<h2 class="gdButton smaller"><a href="./profile/${x[1]}">${x[0]}</h2></a>
					<img src="./icon/${x[1]}">
					</div>`).join('')}
				</div>
				<h2 class="smaller gdButton"><a href="https://github.com/GDColon/GDBrowser">View on GitHub!</a></h2>
			</div>
			<img class="gdButton arrow" src="../assets/arrow-right.png" style="visibility: hidden" onclick="page += 1; loadCredits()">
			<img class="closeWindowX gdButton" src="../assets/close.png" onclick="$('#credits').hide(); page = 1;">
		</div>`)


	$(document).keydown(function(k) {

	if ($('#credits').is(':hidden')) return

    if (k.which == 37 && page > 1) { //left
		page -= 1; loadCredits();
	}
	
	if (k.which == 39 && page < res.credits.length + 1) { //right
		page += 1; loadCredits();
	}
	
});
});

</script>